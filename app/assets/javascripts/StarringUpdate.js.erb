var favorite = "not-favorited";

function FavoriteUpdate() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
      //StarringUpdate();
    }
  };
  xhttp.open("GET", "starring/favorite?starring[user_id]=" + $(".userId").data("temp") + "&starring[restaurant_id]=" + $(".restaurantId").data("temp"), true);
  xhttp.send();

  if (favorite == "not-favorited"){
  	favorite = "favorited"
  }else{
  	favorite = "not-favorited"
  }

  ChangeStarring();
}

function StarringUpdate() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
      favorite = xhttp.responseText;
      ChangeStarring();
    }
  };
  xhttp.open("GET", "starring/star_update?starring[user_id]=" + $(".userId").data("temp") + "&starring[restaurant_id]=" + $(".restaurantId").data("temp"), true);
  xhttp.send();
}

function ChangeStarring() {
	if (favorite == "favorited"){
		$("#star-five").css("background", "url(<%= asset_path('YellowStar.png') %>) transparent no-repeat right");
	}else{
		$("#star-five").css("background", "url(<%= asset_path('WhiteStar.png') %>) transparent no-repeat right");
	}

}